name: Update installer images

on: [push] 
  #schedule:
  #  - cron: 10 * * * *

jobs:
  build_stretch:
    runs-on: ubuntu-latest
    container: 'debian:9'
    env:
      repo_dir: .
      build_needed: no
    
    steps: 
    - name: update apt
      run: apt-get update
    
    - name: install needed packages
      run: apt-get -y install curl gawk
      
    ##curl to get the last version we built
    
    ##apt-cache to get the latest source version
    - name: get current linux-source version
      run: apt-cache show linux-source-4.9 | grep -m 1 Version | gawk '{print $2}' | tee /tmp/stretch_kernel.txt
  
    - name: nproc
      run: nproc
  
  #  - name: download kernel source and build tools. 
  #    run: apt-get -y install linux-source-4.9 libc6-armel-cross libc6-dev-armel-cross binutils-arm-linux-gnueabi libncurses5-dev gcc-arm-linux-gnueabi build-essential git
  
    
  
  ## if not matched, download cross tools some where
    ## clone repo
    ##auto bump verison? .. need to grab it first
    ##... configure build script for cross location?
    ## run the build, might take a while
    
    ##copy/commit resulting deb somewhere for testing?
    
    ##should be able to do for 4.12, 4.19, 5.x in parellel via buster images.
